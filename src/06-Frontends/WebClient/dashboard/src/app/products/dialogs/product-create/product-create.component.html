<div class="modal-header">
  <h4 class="modal-title">{{ data.title }}</h4>
  <button type="button" class="close" aria-label="Close" (click)="dismiss()" [disabled]="(loading$ | async)">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<div class="modal-body">

  <p [innerHTML]="data.body"></p>

  <div>
    <form [formGroup]="form" (ngSubmit)="save()" [class.has-error]="form.invalid">

      <!-- code -->
      <div class="form-group row">
        <label class="col-sm-4 col-form-label" for="code">Code:</label>
        <div class="col-sm-8">
          <input type="text" formControlName="code" class="form-control" id="code" maxlength="255" />

          <p *ngIf="code?.touched && code?.invalid" class="help-block invalid-feedback">Invalid</p>
        </div>
      </div>

      <!-- Name -->
      <div class="form-group row">
        <label class="col-sm-4 col-form-label" for="name">Name:</label>
        <div class="col-sm-8">
          <input type="text" formControlName="name" class="form-control" id="name" maxlength="255" />

          <p *ngIf="name?.touched && name?.invalid" class="help-block invalid-feedback">Invalid</p>
        </div>
      </div>

      <!-- Description -->
      <div class="form-group row">
        <label class="col-sm-4 col-form-label" for="description">Description:</label>
        <div class="col-sm-8">
          <textarea formControlName="description" class="form-control" id="description" maxlength="1024"></textarea>

          <p *ngIf="description?.touched && description?.invalid" class="help-block invalid-feedback">Invalid</p>
        </div>
      </div>

      <!-- Price -->
      <div class="form-group row">
        <label class="col-sm-4 col-form-label" for="name">Price:</label>
        <div class="col-sm-8">
          <input type="text" formControlName="price" class="form-control" id="price" maxlength="30" />

          <p *ngIf="price?.touched && price?.invalid" class="help-block invalid-feedback">Invalid</p>
        </div>
      </div>

    </form>
  </div>
</div>

<div class="modal-footer">
  <app-loading-spinner *ngIf="(loading$ | async)"></app-loading-spinner>

  <button type="button" class="btn btn-sm btn-primary" (click)="save()"
    [disabled]="form.invalid || (loading$ | async)">Save</button>
  <button type="button" class="btn btn-sm btn-danger" (click)="dismiss()"
    [disabled]="(loading$ | async)">Cancel</button>
</div>
